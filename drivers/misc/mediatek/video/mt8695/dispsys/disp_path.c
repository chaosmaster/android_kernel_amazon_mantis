/*
* disp_path.c - display path
*
*  Copyright (C) 2015-2017 MediaTek Inc.
*
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License version 2 as
* published by the Free Software Foundation.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
* GNU General Public License for more details.
*/

#define LOG_TAG "DISP_PATH"

#include "disp_hw_log.h"
#include "disp_path.h"
#include "vdout_sys_hal.h"
#include "fmt_hal.h"
#include "hdmitx.h"

static struct full_screen_param mvdo_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x660, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7AA, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x887, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0xAAC, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0xAAC, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x156A, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x111E, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x148E, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x251, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x251, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x566, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x6B0, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	}
};
static struct full_screen_param svdo_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x660, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7AA, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x887, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0xAAC, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0xAAC, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x156A, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x111E, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x148E, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x566, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x6B0, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	}
};

static struct full_screen_param svdo_core2_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x60C, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x756, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x833, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x9EB, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x832, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x9EA, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0xA58, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0xA58, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x832, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x832, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x9EA, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x1578, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x1578, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x149C, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x112C, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x112C, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x112C, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x149C, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x5A7, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x6F1, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x7CD, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x985, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x10C7, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x1437, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	}
};

static struct full_screen_param osd1_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x355, 0x4DE, HDMI_VIDEO_720x480i_60Hz}, /*done,osd3 h + 2*/
		{0x85, 0x2D, 0x2D, 0x7A, 0x4DF, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34f, 0x416, HDMI_VIDEO_720x480p_60Hz}, /*done,osd3 h + 2*/
		{0x85, 0x2D, 0x2D, 0x355, 0x4DE, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x66A, 0x5D8, HDMI_VIDEO_1280x720p_60Hz},/*h+2*/
		{0x105, 0x1A, 0x1A, 0x7B4, 0x5D8, HDMI_VIDEO_1280x720p_50Hz},/*h+2*/
		{0xC1, 0x2A, 0x2A, 0x890, 0x8C6, HDMI_VIDEO_1920x1080i_60Hz},/*done,osd3 h + 2*/
		{0xC1, 0x2A, 0x2A, 0xA48, 0x8C6, HDMI_VIDEO_1920x1080i_50Hz},/*done,osd3 h + 2*/
		{0xC1, 0x2A, 0x2A, 0x890, 0x8C6, HDMI_VIDEO_1920x1080p_30Hz},/*done osd3 h+2*/
		{0xC1, 0x2A, 0x2A, 0xA48, 0x8C6, HDMI_VIDEO_1920x1080p_25Hz}, /*done,osd3 h + 2*/
		{0xC1, 0x2A, 0x2A, 0xAB6, 0x8C6, HDMI_VIDEO_1920x1080p_24Hz}, /*done,osd3 h + 2*/
		{0xC1, 0x2A, 0x2A, 0xAB6, 0x8C6, HDMI_VIDEO_1920x1080p_23Hz}, /*done,osd3 h + 2*/
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x890, 0x8C6, HDMI_VIDEO_1920x1080p_60Hz},/*done, osd3 h+2*/
		{0xC1, 0x2A, 0x2A, 0xA48, 0x8C6, HDMI_VIDEO_1920x1080p_50Hz},/*done, osd3 h+2*/
		{0x11f, 0x53, 0x53, 0x5A, 0x1191, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x5A, 0x1191, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x5A, 0x1191, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x5A, 0x1191, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x5A, 0x1191, HDMI_VIDEO_3840x2160P_30HZ},/*same as 60p*/
		{0x181, 0x53, 0x53, 0x1574, 0x1190, HDMI_VIDEO_4096x2160P_24HZ},/*done, osd3 h+2*/
		{0x11f, 0x53, 0x53, 0x5A, 0x1191, HDMI_VIDEO_3840x2160P_60HZ},/*done, osd3 h+2*/
		{0x11f, 0x53, 0x53, 0x5A, 0x1191, HDMI_VIDEO_3840x2160P_50HZ},/*done, osd3 h+2*/
		{0xd9, 0x53, 0x53, 0x1128, 0x1190, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1498, 0x1190, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x2CA, 0x416, HDMI_VIDEO_720x480i_60Hz},/*done shift:4*/
		{0x85, 0x2D, 0x2D, 0x2D0, 0x4DE, HDMI_VIDEO_720x576i_50Hz},/*done shift:4*/
		{0x7B, 0x2B, 0x2B, 0x2CA, 0x416, HDMI_VIDEO_720x480p_60Hz},/*done shift:4*/
		{0x85, 0x2D, 0x2D, 0x2D0, 0x4DE, HDMI_VIDEO_720x576p_50Hz},/*done shift:4*/
		{0x105, 0x1A, 0x1A, 0x5E7, 0x5D8, HDMI_VIDEO_1280x720p_60Hz},/*done shift:4*/
		{0x105, 0x1A, 0x1A, 0x731, 0x5D8, HDMI_VIDEO_1280x720p_50Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80D, 0x8C6, HDMI_VIDEO_1920x1080i_60Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x9C5, 0x8C6, HDMI_VIDEO_1920x1080i_50Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80D, 0x8C6, HDMI_VIDEO_1920x1080p_30Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x9C5, 0x8C6, HDMI_VIDEO_1920x1080p_25Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0xA33, 0x8C6, HDMI_VIDEO_1920x1080p_24Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0xA33, 0x8C6, HDMI_VIDEO_1920x1080p_23Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80D, 0x8C6, HDMI_VIDEO_1920x1080p_29Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80D, 0x8C6, HDMI_VIDEO_1920x1080p_60Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x9C5, 0x8C6, HDMI_VIDEO_1920x1080p_50Hz},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1553, 0x1190, HDMI_VIDEO_3840x2160P_23_976HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1553, 0x1190, HDMI_VIDEO_3840x2160P_24HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1477, 0x1190, HDMI_VIDEO_3840x2160P_25HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1107, 0x1190, HDMI_VIDEO_3840x2160P_29_97HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1107, 0x1190, HDMI_VIDEO_3840x2160P_30HZ},/*done shift:4*/
		{0x181, 0x53, 0x53, 0x14F1, 0x1190, HDMI_VIDEO_4096x2160P_24HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1107, 0x1190, HDMI_VIDEO_3840x2160P_60HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1477, 0x1190, HDMI_VIDEO_3840x2160P_50HZ},/*done shift:4*/
		{0xd9, 0x53, 0x53, 0x10A5, 0x1190, HDMI_VIDEO_4096x2160P_60HZ},/*done shift:4*/
		{0xd9, 0x53, 0x53, 0x1415, 0x1190, HDMI_VIDEO_4096x2160P_50HZ} /*done shift:4*/
	}
};

static struct full_screen_param osd2_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34D, 0x416, HDMI_VIDEO_720x480i_60Hz}, /*done, h + 2, v - 4*/
		{0x85, 0x2D, 0x2D, 0x353, 0x4DE, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34D, 0x416, HDMI_VIDEO_720x480p_60Hz}, /*done, h + 2, v - 4*/
		{0x85, 0x2D, 0x2D, 0x353, 0x4DE, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x668, 0x5D8, HDMI_VIDEO_1280x720p_60Hz},/*done, h + 8, v - 4*/
		{0x105, 0x1A, 0x1A, 0x7B2, 0x5D8, HDMI_VIDEO_1280x720p_50Hz},/*done, h + 8, v - 4*/
		{0xC1, 0x2A, 0x2A, 0x88E, 0x8C6, HDMI_VIDEO_1920x1080i_60Hz},/*done*/
		{0xC1, 0x2A, 0x2A, 0xA46, 0x8C6, HDMI_VIDEO_1920x1080i_50Hz},/*done*/
		{0xC1, 0x2A, 0x2A, 0x88E, 0x8C6, HDMI_VIDEO_1920x1080p_30Hz},/*done*/
		{0xC1, 0x2A, 0x2A, 0xA46, 0x8C6, HDMI_VIDEO_1920x1080p_25Hz},/*done*/
		{0xC1, 0x2A, 0x2A, 0xAB4, 0x8C6, HDMI_VIDEO_1920x1080p_24Hz},/*done*/
		{0xC1, 0x2A, 0x2A, 0xAB4, 0x8C6, HDMI_VIDEO_1920x1080p_23Hz},/*done*/
		{0xC1, 0x2A, 0x2A, 0x88E, 0x8C6, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x88E, 0x8C6, HDMI_VIDEO_1920x1080p_60Hz},/*done, h + 8, v - 4*/
		{0xC1, 0x2A, 0x2A, 0xA46, 0x8C6, HDMI_VIDEO_1920x1080p_50Hz},/*done, h + 8, v - 4*/
		{0x11f, 0x53, 0x53, 0x58, 0x1191, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x58, 0x1191, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x58, 0x1191, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x58, 0x1191, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x58, 0x1191, HDMI_VIDEO_3840x2160P_30HZ},/*done, same as 60p*/
		{0x181, 0x53, 0x53, 0x1572, 0x1190, HDMI_VIDEO_4096x2160P_24HZ},/*done*/
		{0x11f, 0x53, 0x53, 0x58, 0x1191, HDMI_VIDEO_3840x2160P_60HZ},/*done, h + 8, v - 4*/
		{0x11f, 0x53, 0x53, 0x58, 0x1191, HDMI_VIDEO_3840x2160P_50HZ},/*done, h + 8, v - 4*/
		{0xd9, 0x53, 0x53, 0x1126, 0x1190, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1496, 0x1190, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x2C8, 0x416, HDMI_VIDEO_720x480i_60Hz},/*done shift:4*/
		{0x85, 0x2D, 0x2D, 0x2CE, 0x4DE, HDMI_VIDEO_720x576i_50Hz},/*done shift:4*/
		{0x7B, 0x2B, 0x2B, 0x2C8, 0x416, HDMI_VIDEO_720x480p_60Hz},/*done shift:4*/
		{0x85, 0x2D, 0x2D, 0x2CE, 0x4DE, HDMI_VIDEO_720x576p_50Hz},/*done shift:4*/
		{0x105, 0x1A, 0x1A, 0x5E5, 0x5D8, HDMI_VIDEO_1280x720p_60Hz},/*done shift:4*/
		{0x105, 0x1A, 0x1A, 0x72f, 0x5D8, HDMI_VIDEO_1280x720p_50Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80B, 0x8C6, HDMI_VIDEO_1920x1080i_60Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x9C3, 0x8C6, HDMI_VIDEO_1920x1080i_50Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80B, 0x8C6, HDMI_VIDEO_1920x1080p_30Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x9C3, 0x8C6, HDMI_VIDEO_1920x1080p_25Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0xA31, 0x8C6, HDMI_VIDEO_1920x1080p_24Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0xA31, 0x8C6, HDMI_VIDEO_1920x1080p_23Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80B, 0x8C6, HDMI_VIDEO_1920x1080p_29Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x80B, 0x8C6, HDMI_VIDEO_1920x1080p_60Hz},/*done shift:4*/
		{0xC1, 0x2A, 0x2A, 0x9C3, 0x8C6, HDMI_VIDEO_1920x1080p_50Hz},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1551, 0x1190, HDMI_VIDEO_3840x2160P_23_976HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1551, 0x1190, HDMI_VIDEO_3840x2160P_24HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1475, 0x1190, HDMI_VIDEO_3840x2160P_25HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1105, 0x1190, HDMI_VIDEO_3840x2160P_29_97HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1105, 0x1190, HDMI_VIDEO_3840x2160P_30HZ},/*done shift:4*/
		{0x181, 0x53, 0x53, 0x14EF, 0x1190, HDMI_VIDEO_4096x2160P_24HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1105, 0x1190, HDMI_VIDEO_3840x2160P_60HZ},/*done shift:4*/
		{0x11f, 0x53, 0x53, 0x1475, 0x1190, HDMI_VIDEO_3840x2160P_50HZ},/*done shift:4*/
		{0xd9, 0x53, 0x53, 0x10A3, 0x1190, HDMI_VIDEO_4096x2160P_60HZ},/*done shift:4*/
		{0xd9, 0x53, 0x53, 0x1413, 0x1190, HDMI_VIDEO_4096x2160P_50HZ} /*done shift:4*/
	}
};

static struct full_screen_param mvdo_out_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x350, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x354, 0x41A, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x668, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7b2, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x88E, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA46, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x251, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x257, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x251, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x257, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x56E, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x6B8, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x794, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x94c, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x794, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x94c, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	}
};

static struct full_screen_param svdo_out_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x660, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7AA, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x566, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x6B0, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x9B2, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	}
};

static struct full_screen_param dolby_core1_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x660, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7AA, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x566, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x6B0, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x8B8, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x8B8, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	}
};

static struct full_screen_param dolby_core2_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x348, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x348, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x660, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7AA, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x348, 0x46, HDMI_VIDEO_720x480i_60Hz}, /* only dolby core2 used  shift:4 */
		{0x85, 0x2D, 0x2D, 0x358, 0x4A, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x348, 0x46, HDMI_VIDEO_720x480p_60Hz}, /* only dolby core2 used  shift:4 */
		{0x85, 0x2D, 0x2D, 0x358, 0x4A, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x7D, 0x25, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7D, 0x25, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x39, 0x45, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0xF9, 0x97, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x51, 0x97, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x51, 0x97, HDMI_VIDEO_4096x2160P_50HZ}
	}
};

static struct full_screen_param dolby_core3_table[FULL_SCREEN_IDX][HDMI_VIDEO_RESOLUTION_NUM] = {
	{
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x34B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x1, 0x1, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x660, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x7AA, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x2, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x886, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0xA3E, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x50, 0x1, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x4E, 0x1, HDMI_VIDEO_4096x2160P_50HZ}
	},
	{
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480i_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576i_50Hz},
		{0x7B, 0x2B, 0x2B, 0x24B, 0x41A, HDMI_VIDEO_720x480p_60Hz},
		{0x85, 0x2D, 0x2D, 0x351, 0x4E2, HDMI_VIDEO_720x576p_50Hz},
		{0x105, 0x1A, 0x1A, 0x566, 0x5DC, HDMI_VIDEO_1280x720p_60Hz},
		{0x105, 0x1A, 0x1A, 0x6B0, 0x5DC, HDMI_VIDEO_1280x720p_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080i_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080i_50Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_30Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_25Hz},
		{0xC1, 0x2A, 0x2A, 0x8B8, 0x8CA, HDMI_VIDEO_1920x1080p_24Hz},
		{0xC1, 0x2A, 0x2A, 0x8B8, 0x8CA, HDMI_VIDEO_1920x1080p_23Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_29Hz},
		{0xC1, 0x2A, 0x2A, 0x78C, 0x8CA, HDMI_VIDEO_1920x1080p_60Hz},
		{0xC1, 0x2A, 0x2A, 0x944, 0x8CA, HDMI_VIDEO_1920x1080p_50Hz},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_23_976HZ},
		{0x11f, 0x53, 0x53, 0x14D2, 0x1194, HDMI_VIDEO_3840x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_25HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_29_97HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_30HZ},
		{0x181, 0x53, 0x53, 0x1470, 0x1194, HDMI_VIDEO_4096x2160P_24HZ},
		{0x11f, 0x53, 0x53, 0x1086, 0x1194, HDMI_VIDEO_3840x2160P_60HZ},
		{0x11f, 0x53, 0x53, 0x13F6, 0x1194, HDMI_VIDEO_3840x2160P_50HZ},
		{0xd9, 0x53, 0x53, 0x1024, 0x1194, HDMI_VIDEO_4096x2160P_60HZ},
		{0xd9, 0x53, 0x53, 0x1394, 0x1194, HDMI_VIDEO_4096x2160P_50HZ}
	}
};






struct disp_path_context disp_path;


static int _get_fs_index(void)
{
	if (disp_path.is_dolby)
		return 1;

	return 0;
}

static struct full_screen_param *_get_fs_param(enum DISP_PATH_HW_ID id, int idx,
	HDMI_VIDEO_RESOLUTION res)
{
	int i = 0;
	struct full_screen_param *fs_table = NULL;
	struct full_screen_param *fs_point = NULL;

	if (id == DISP_PATH_MVDO)
		fs_table = &(mvdo_table[idx][0]);
	else if (id == DISP_PATH_SVDO)
		fs_table = &(svdo_table[idx][0]);
	else if (id == DISP_PATH_SVDO_DOLBY_CORE2)
		fs_table = &(svdo_core2_table[1][0]);
	else if (id == DISP_PATH_SVDO_SDR2HDR)
		fs_table = &(svdo_core2_table[0][0]);
	else if (id == DISP_PATH_OSD1)
		fs_table = &(osd1_table[idx][0]);
	else if (id == DISP_PATH_OSD2)
		fs_table = &(osd2_table[idx][0]);
	else if (id == DISP_PATH_MVDO_OUT)
		fs_table = &(mvdo_out_table[idx][0]);
	else if (id == DISP_PATH_SVDO_OUT)
		fs_table = &(svdo_out_table[idx][0]);
	else if (id == DISP_PATH_DOLBY_CORE1)
		fs_table = &(dolby_core1_table[idx][0]);
	else if (id == DISP_PATH_DOLBY_CORE2)
		fs_table = &(dolby_core2_table[idx][0]);
	else if (id == DISP_PATH_DOLBY_CORE3)
		fs_table = &(dolby_core3_table[idx][0]);
	else
		return NULL;

	for (i = 0; i < HDMI_VIDEO_RESOLUTION_NUM; i++) {
		if (fs_table[i].res == res) {
			fs_point = &fs_table[i];
			break;
		}
	}

	return fs_point;
}

static void _save_resolution_info(struct disp_path_resolution *resolution)
{
	if (disp_path.resolution.res == resolution->res)
		return;

	memcpy((void *)&disp_path.resolution, (void *)resolution,
		sizeof(struct disp_path_resolution));
}

static int _set_path(void)
{
	enum DISP_PATH_TYPE path = DISP_PATH_DEFAULT;

	path = (!disp_path.resolution.is_progressive << 1) | (disp_path.is_dolby << 0);

	if (path == disp_path.path)
		return 0;

	/* setting path */
	if (path == DISP_PATH_DEFAULT) {
		vdout_sys_hal_vm_source_sel(VM_SRC_SEL_FMT);
	} else if (path == DISP_PATH_DOLBY) {
		vdout_sys_hal_vm_source_sel(VM_SRC_SEL_DOLBY3);
	} else if (path == DISP_PATH_P2I || path == DISP_PATH_DOLBY_P2I) {
		vdout_sys_hal_vm_source_sel(VM_SRC_SEL_P2I);
		/* if (fgIsHDRes(disp_path.resolution.res)) */
		if (1)
			vdout_sys_hal_p2i_source_sel(false);
		else
			vdout_sys_hal_p2i_source_sel(true);

		if (path == DISP_PATH_DOLBY_P2I)
			vdout_sys_hal_sdppf_source_sel(false);
		else
			vdout_sys_hal_sdppf_source_sel(true);
	}

	disp_path.path = path;

#ifdef DISP_PATH_SHADOW_ENABLE
	/* mux shadow update*/
	fmt_hal_shadow_update();
#endif

	return 0;
}

static int _set_delay(enum DISP_PATH_HW_ID id, int h_delay, int v_delay)
{
	if (id == DISP_PATH_MVDO)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_VDO1, h_delay, v_delay);
	else if (id == DISP_PATH_SVDO || id == DISP_PATH_SVDO_DOLBY_CORE2 ||
		id == DISP_PATH_SVDO_SDR2HDR)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_VDO2, h_delay, v_delay);
	else if (id == DISP_PATH_OSD1)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_OSD_UHD, h_delay, v_delay);
	else if (id == DISP_PATH_OSD2)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_OSD_FHD, h_delay, v_delay);
	else if (id == DISP_PATH_MVDO_OUT)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_VDO1_OUT, h_delay, v_delay);
	else if (id == DISP_PATH_SVDO_OUT)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_VDO2_OUT, h_delay, v_delay);
	else if (id == DISP_PATH_DOLBY_CORE1)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_DOLBY1, h_delay, v_delay);
	else if (id == DISP_PATH_DOLBY_CORE2)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_DOLBY2, h_delay, v_delay);
	else if (id == DISP_PATH_DOLBY_CORE3)
		vdout_sys_hal_set_vp(VSYNC_PULSE_TYPE_DOLBY3, h_delay, v_delay);
	else
		return -1;

#ifdef DISP_PATH_SHADOW_ENABLE
	/* vp shadow update*/
	fmt_hal_shadow_update();
#endif

	return 0;
}

int disp_path_get_active_zone(enum DISP_PATH_HW_ID id, HDMI_VIDEO_RESOLUTION res,
	int *h_start, int *v_odd_start, int *v_even_start)
{
	struct full_screen_param *fs_param = NULL;
	int idx = _get_fs_index();

	if (idx >= FULL_SCREEN_IDX) {
		DISP_LOG_N("get active idx=%d error.\n", idx);
		return -1;
	}

	fs_param = _get_fs_param(id, idx, res);
	if (fs_param == NULL || fs_param->res != res) {
		DISP_LOG_N("get active param is null or resolution is wrong.\n");
		return -1;
	}

	*h_start = fs_param->h_start;
	*v_odd_start = fs_param->v_odd_start;
	*v_even_start = fs_param->v_even_start;

	DISP_LOG_D("id: %d, h_s: 0x%x, v_odd_s: 0x%x, v_even_s: 0x%x, res: %d\n",
		id, *h_start, *v_odd_start, *v_even_start, res);

	return 0;
}

int disp_path_get_delay_info(enum DISP_PATH_HW_ID id, HDMI_VIDEO_RESOLUTION res,
	int *h_delay, int *v_delay)
{
	struct full_screen_param *fs_param = NULL;
	int idx = _get_fs_index();

	if (idx >= FULL_SCREEN_IDX) {
		DISP_LOG_N("get delay info idx=%d error.\n", idx);
		return -1;
	}

	fs_param = _get_fs_param(id, idx, res);
	if (fs_param == NULL || fs_param->res != res) {
		DISP_LOG_N("get delay info param is null or resolution is wrong.\n");
		return -1;
	}

	*h_delay = fs_param->h_delay;
	*v_delay = fs_param->v_delay;

	DISP_LOG_DEBUG("id: %d, res: %d, h_delay: 0x%x, v_delay: 0x%x\n",
		id, res, *h_delay, *v_delay);

	return 0;
}

int disp_path_set_delay(enum DISP_PATH_HW_ID id, HDMI_VIDEO_RESOLUTION res)
{
	int h_delay = 0;
	int v_delay = 0;
	int ret = 0;

	ret = disp_path_get_delay_info(id, res, &h_delay, &v_delay);
	if (ret != 0) {
		DISP_LOG_N("set delay error.\n");
		return ret;
	}

	_set_delay(id, h_delay, v_delay);
	if (id == DISP_PATH_MVDO)
		_set_delay(DISP_PATH_MVDO_OUT, h_delay, v_delay);
	else if (id == DISP_PATH_SVDO)
		_set_delay(DISP_PATH_SVDO_OUT, h_delay, v_delay);
	return 0;
}

int disp_path_set_dsd_delay(enum DISP_PATH_HW_ID id, HDMI_VIDEO_RESOLUTION res)
{
	int h_delay = 0;
	int v_delay = 0;
	int ret = 0;

	ret = disp_path_get_delay_info(id, res, &h_delay, &v_delay);
	if (ret != 0) {
		DISP_LOG_N("set delay error.\n");
		return ret;
	}

	_set_delay(id, h_delay, v_delay);
	if (id == DISP_PATH_MVDO_OUT)
		_set_delay(DISP_PATH_MVDO, h_delay, v_delay);
	else if (id == DISP_PATH_SVDO_OUT)
		_set_delay(DISP_PATH_SVDO, h_delay, v_delay);

	return 0;
}

int disp_path_set_dsd_delay_by_shift(enum DISP_PATH_HW_ID id, HDMI_VIDEO_RESOLUTION res,
	bool h_left, int h_shift_cnt, bool v_up, int v_shift_cnt)
{
	int h_delay = 0;
	int v_delay = 0;
	int ret = 0;

	DISP_LOG_DEBUG("set delay by shift, id %d res %d h(%d, %d) v(%d %d)\n",
		id, res, h_left, h_shift_cnt, v_up, v_shift_cnt);

	ret = disp_path_get_delay_info(id, res, &h_delay, &v_delay);
	if (ret != 0) {
		DISP_LOG_N("set delay by shift error.\n");
		return ret;
	}
	DISP_LOG_DEBUG("set delay by shift, orig h_delay 0x%x, v_delay 0x%x\n", h_delay, v_delay);

	/*TO-DO*/
	if (!h_left && h_shift_cnt) {
		DISP_LOG_N("Currently, don't support right shift.");
		return -1;
	}

	if (!v_up && v_shift_cnt) {
		DISP_LOG_N("Currently, don't support up shift.");
		return -1;
	}

	if (h_shift_cnt && (h_delay <= h_shift_cnt)) {
		DISP_LOG_N("Currently, set delay fail , h shift(0x%x) >= h_delay(0x%x).",
			h_shift_cnt, h_delay);
		return -1;
	}

	if (v_shift_cnt && v_delay <= (v_shift_cnt * 2)) {
		DISP_LOG_N("Currently, set delay fail , v shift(0x%x) >= v_delay(0x%x).",
			v_shift_cnt, v_delay);
		return -1;
	}
	h_delay -= h_shift_cnt;
	if (h_delay <= disp_path.resolution.htotal / 2)
		v_delay = ((v_delay + 1) / 2) * 2 - 1;

	v_delay -= (v_shift_cnt * 2);
	DISP_LOG_DEBUG("set delay by shift, dst h_delay 0x%x, v_delay 0x%x\n", h_delay, v_delay);
	/*TO-DO end*/
	_set_delay(id, h_delay, v_delay);
	if (id == DISP_PATH_MVDO_OUT)
		_set_delay(DISP_PATH_MVDO, h_delay, v_delay);
	else if (id == DISP_PATH_SVDO_OUT)
		_set_delay(DISP_PATH_SVDO, h_delay, v_delay);
	return 0;
}


int disp_path_set_delay_by_shift(enum DISP_PATH_HW_ID id, HDMI_VIDEO_RESOLUTION res,
	bool h_left, int h_shift_cnt, bool v_up, int v_shift_cnt)
{
	int h_delay = 0;
	int v_delay = 0;
	int ret = 0;

	DISP_LOG_DEBUG("set delay by shift, id %d res %d h(%d, %d) v(%d %d)\n",
		id, res, h_left, h_shift_cnt, v_up, v_shift_cnt);

	ret = disp_path_get_delay_info(id, res, &h_delay, &v_delay);
	if (ret != 0) {
		DISP_LOG_N("set delay by shift error.\n");
		return ret;
	}
	DISP_LOG_DEBUG("set delay by shift, orig h_delay 0x%x, v_delay 0x%x\n", h_delay, v_delay);

	/*TO-DO*/
	if (!h_left && h_shift_cnt) {
		DISP_LOG_N("Currently, don't support right shift.");
		return -1;
	}

	if (!v_up && v_shift_cnt) {
		DISP_LOG_N("Currently, don't support up shift.");
		return -1;
	}

	if (h_shift_cnt && (h_delay <= h_shift_cnt)) {
		DISP_LOG_N("Currently, set delay fail , h shift(0x%x) >= h_delay(0x%x).",
			h_shift_cnt, h_delay);
		return -1;
	}

	if (v_shift_cnt && v_delay <= (v_shift_cnt * 2)) {
		DISP_LOG_N("Currently, set delay fail , v shift(0x%x) >= v_delay(0x%x).",
			v_shift_cnt, v_delay);
		return -1;
	}
	h_delay -= h_shift_cnt;
	if (h_delay <= disp_path.resolution.htotal / 2)
		v_delay = ((v_delay + 1) / 2) * 2 - 1;

	v_delay -= (v_shift_cnt * 2);
	DISP_LOG_DEBUG("set delay by shift, dst h_delay 0x%x, v_delay 0x%x\n", h_delay, v_delay);
	/*TO-DO end*/
	_set_delay(id, h_delay, v_delay);
	if (id == DISP_PATH_MVDO)
		_set_delay(DISP_PATH_MVDO_OUT, h_delay, v_delay);
	else if (id == DISP_PATH_SVDO)
		_set_delay(DISP_PATH_SVDO_OUT, h_delay, v_delay);
	return 0;
}

int disp_path_set_dsd_dolby_by_shift(bool is_dolby, int h_shift_cnt_all, int h_shift_cnt_ui)
{
	DISP_LOG_DEBUG("is_dolby: %d\n", is_dolby);

	if (disp_path.is_dolby == is_dolby) {
		disp_path_set_dsd_delay_by_shift(DISP_PATH_MVDO_OUT, disp_path.resolution.res,
			true, h_shift_cnt_all, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_OSD1, disp_path.resolution.res,
			true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_OSD2, disp_path.resolution.res,
			true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res,
			true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
		return 0;
	}

	disp_path.is_dolby = is_dolby;

	disp_path_set_dsd_delay_by_shift(DISP_PATH_MVDO_OUT, disp_path.resolution.res,
		true, h_shift_cnt_all, false, 0);
	disp_path_set_delay_by_shift(DISP_PATH_OSD1, disp_path.resolution.res,
		true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
	disp_path_set_delay_by_shift(DISP_PATH_OSD2, disp_path.resolution.res,
		true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
	disp_path_set_delay_by_shift(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res,
		true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);

	_set_path();

	return 0;
}

int disp_path_set_dolby_by_shift(bool is_dolby, int h_shift_cnt_all, int h_shift_cnt_ui)
{
	DISP_LOG_DEBUG("is_dolby: %d\n", is_dolby);

	if (disp_path.is_dolby == is_dolby) {
		disp_path_set_delay_by_shift(DISP_PATH_MVDO, disp_path.resolution.res,
			true, h_shift_cnt_all, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_SVDO_DOLBY_CORE2, disp_path.resolution.res,
			true, h_shift_cnt_all, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_OSD1, disp_path.resolution.res,
			true, h_shift_cnt_all + h_shift_cnt_ui, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_OSD2, disp_path.resolution.res,
			true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res,
			true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
		return 0;
	}

	disp_path.is_dolby = is_dolby;

	disp_path_set_delay_by_shift(DISP_PATH_MVDO, disp_path.resolution.res,
		true, h_shift_cnt_all, false, 0);
	disp_path_set_delay_by_shift(DISP_PATH_SVDO_DOLBY_CORE2, disp_path.resolution.res,
		true, h_shift_cnt_all, false, 0);
	disp_path_set_delay_by_shift(DISP_PATH_OSD1, disp_path.resolution.res,
		true, h_shift_cnt_all + h_shift_cnt_ui, false, 0);
	disp_path_set_delay_by_shift(DISP_PATH_OSD2, disp_path.resolution.res,
		true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);
	disp_path_set_delay_by_shift(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res,
		true,  h_shift_cnt_all + h_shift_cnt_ui, false, 0);

	_set_path();

	return 0;
}

int disp_path_set_dsd_dolby(bool is_dolby)
{
	DISP_LOG_DEBUG("is_dolby: %d\n", is_dolby);

	if (disp_path.is_dolby == is_dolby) {
		disp_path_set_delay(DISP_PATH_MVDO_OUT, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_OSD1, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_OSD2, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res);
		return 0;
	}

	disp_path.is_dolby = is_dolby;

	disp_path_set_dsd_delay(DISP_PATH_MVDO_OUT, disp_path.resolution.res);
	disp_path_set_dsd_delay(DISP_PATH_OSD1, disp_path.resolution.res);
	disp_path_set_dsd_delay(DISP_PATH_OSD2, disp_path.resolution.res);
	disp_path_set_dsd_delay(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res);

	_set_path();

	return 0;
}

int disp_path_set_dolby(bool is_dolby)
{
	DISP_LOG_DEBUG("%s is_dolby: %d\n", __func__, is_dolby);

	if ((true == is_dolby) && (disp_path.is_dolby == is_dolby)) {
		disp_path_set_delay(DISP_PATH_MVDO, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_SVDO, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_OSD1, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_OSD2, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res);
		return 0;
	} else if ((false == is_dolby) && (disp_path.is_dolby == is_dolby))
		return 0;

	disp_path.is_dolby = is_dolby;

	disp_path_set_delay(DISP_PATH_MVDO, disp_path.resolution.res);
	disp_path_set_delay(DISP_PATH_SVDO, disp_path.resolution.res);
	if (disp_path.is_dolby == false) {
		disp_path_set_delay_by_shift(DISP_PATH_OSD1, disp_path.resolution.res, true, 0x1A, false, 0);
		disp_path_set_delay_by_shift(DISP_PATH_OSD2, disp_path.resolution.res, true, 0x1A, false, 0);
	} else {
		disp_path_set_delay(DISP_PATH_OSD1, disp_path.resolution.res);
		disp_path_set_delay(DISP_PATH_OSD2, disp_path.resolution.res);
	}
	disp_path_set_delay(DISP_PATH_DOLBY_CORE2, disp_path.resolution.res);

	_set_path();

	return 0;
}

int disp_path_reset(void)
{
	disp_path.resolution.res = HDMI_VIDEO_RESOLUTION_NUM;
	disp_path.resolution.is_progressive = 1;
	disp_path.is_dolby = false;
	disp_path.path = DISP_PATH_DEFAULT;

#ifdef DISP_PATH_SHADOW_ENABLE
	vdout_sys_hal_vp_shadow_en(true);
	vdout_sys_hal_mux_shadow_en(true);
#endif

	_set_path();

	return 0;
}

int disp_path_set_res(struct disp_path_resolution *resolution)
{
	bool path_change = false;

	DISP_LOG_I("%s set res: %d\n", __func__, resolution->res);

	if (disp_path.resolution.res == resolution->res)
		return 0;

	if (disp_path.resolution.is_progressive != resolution->is_progressive)
		path_change = true;

	_save_resolution_info(resolution);

	if (path_change)
		_set_path();

	return 0;
}


int disp_path_init(struct disp_path_resolution *resolution)
{
	_save_resolution_info(resolution);

	if (g_force_dolby > 0) {
		disp_path.path = ((!disp_path.resolution.is_progressive) << 1) | (DISP_PATH_DOLBY << 0);
		disp_path.is_dolby = true;
	} else {
		disp_path.path = (!disp_path.resolution.is_progressive) << 1;
		disp_path.is_dolby = false;
	}
	return 0;
}

int disp_path_shadow_enable(void)
{
#ifdef DISP_PATH_SHADOW_ENABLE
	vdout_sys_hal_vp_shadow_en(true);
	vdout_sys_hal_mux_shadow_en(true);
#endif

	return 0;
}

